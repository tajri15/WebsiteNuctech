\c scanner_db;
ALTER TABLE scans ADD COLUMN IF NOT EXISTS image5_path TEXT;
ALTER TABLE scans ADD COLUMN IF NOT EXISTS image6_path TEXT;
ALTER TABLE scans ADD COLUMN IF NOT EXISTS image7_path TEXT;
ALTER TABLE scans ADD COLUMN IF NOT EXISTS image8_path TEXT;
UPDATE scans SET image5_path = '' WHERE image5_path IS NULL;
UPDATE scans SET image6_path = '' WHERE image6_path IS NULL;
UPDATE scans SET image7_path = '' WHERE image7_path IS NULL;
UPDATE scans SET image8_path = '' WHERE image8_path IS NULL;

ALTER TABLE scans 
ADD COLUMN IF NOT EXISTS validation_status VARCHAR(20),
ADD COLUMN IF NOT EXISTS validation_confidence DECIMAL(5,2),
ADD COLUMN IF NOT EXISTS validation_time TIMESTAMP,
ADD COLUMN IF NOT EXISTS image_text_detected TEXT,
ADD COLUMN IF NOT EXISTS manual_validated BOOLEAN DEFAULT FALSE,
ADD COLUMN IF NOT EXISTS manual_validation_time TIMESTAMP,
ADD COLUMN IF NOT EXISTS original_ocr_result VARCHAR(50);